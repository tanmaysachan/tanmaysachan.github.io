<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="../styles.css">
    <meta name="google-site-verification" content="LM4GhB5Y1CsiX4EhmQygTx1arB_gKDc0wQjpK2MFTOs" />
    <meta name="description" content="A write-up by Tanmay Sachan on machine learning, systems programming, and computer science." />
    <meta name="author" content="Tanmay Sachan" />
    
    <!-- Open Graph / Social Media -->
    <meta property="og:type" content="article" />
    <meta property="og:site_name" content="Tanmay Sachan's Blog" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

    
    <!-- Rubik font + Caveat for handwritten style -->
    <link
      href="https://fonts.googleapis.com/css2?family=Rubik&family=Caveat:wght@500&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.css" integrity="sha384-vKruj+a13U8yHIkAyGgK1J3ArTLzrFGBbBc0tDp4ad/EyewESeXE/Iv67Aj8gKZ0" crossorigin="anonymous">

    <!-- The loading of KaTeX is deferred to speed up page rendering -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/katex.min.js" integrity="sha384-PwRUT/YqbnEjkZO0zZxNqcxACrXe+j766U2amXcgMg5457rve2Y7I6ZJSm2A0mS4" crossorigin="anonymous"></script>

    <!-- To automatically render math in text elements, include the auto-render extension: -->
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.4/dist/contrib/auto-render.min.js" integrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"
        onload="renderMathInElement(document.body);"></script>

    <script src="../loader.js"></script>

    <script src="https://kit.fontawesome.com/9016fec2c3.js" crossorigin="anonymous"></script>

    <script src="https://cdn.jsdelivr.net/npm/showdown@2.1.0/dist/showdown.min.js"></script>

    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?autorun=false"></script>

    <link rel="apple-touch-icon" sizes="180x180" href="../assets/favicon_io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../assets/favicon_io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="../assets/favicon_io/favicon-16x16.png">
    <link rel="manifest" href="../assets/favicon_io/site.webmanifest" crossorigin="use-credentials">

    <title>A small collection</title>
  </head>
  <body>
    <!-- Theme Toggle -->
    <div class="theme-toggle">
      <div class="theme-callout">
        <span class="theme-callout-text">light / dark mode</span>
        <svg class="theme-callout-arrow" viewBox="0 0 40 32">
          <path d="M4 8 Q 12 6, 18 12 Q 24 18, 32 14 Q 36 12, 38 10" />
        </svg>
      </div>
      <button class="theme-toggle-btn" id="theme-toggle" title="Toggle theme">
        <!-- Sun Icon -->
        <svg class="theme-icon icon-sun" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <circle cx="12" cy="12" r="5"/>
          <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
          <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
        <!-- Moon Icon -->
        <svg class="theme-icon icon-moon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
        </svg>
      </button>
    </div>

    <div class="container col-sm" id="site-header">
    </div>
    <div class="container row" id="shareable-box">
      <div class="col">
        <!-- <a id="shareable-link" href="javascript:void(0);"><i class="fa-solid fa-link"></i> Copy shareable link for this write-up</a> -->
      </div>
    </div>
    <div class="row" id="content-block">
      <div class="col-xs" id="back-button">
        <a href="../index.html"><i class="fa-solid fa-chevron-left"></i></a>
      </div>
      <div class="container float-left col" id="post-block" style="font-family: 'Rubik', sans-serif;">
          <h1 id="riscvscisc">RISC vs CISC</h1>
<p>â€¦ is a facade.</p>
<p>Have been watching a ton of stuff about CPU architectures lately, and the
consensus seems to be pretty uniform:</p>
<ol>
<li>We don't really have RISC and CISC anymore, atleast in principle.</li>
<li>Hardware engineers are VERY secretive.</li>
<li>CPUs are ridiculously complex.</li>
</ol>
<h3 id="theriscvsciscdebate">The RISC vs CISC debate</h3>
<p>RISC favors simplicity, and a small set of instructions.
Even ops like divide are part of an extension to the ISA.
The <a href="http://www.cs.ucf.edu/courses/cda5106/summer02/papers/risc-patterson.pdf" target="_blank">original RISC paper</a> by Patterson
dives into the various reasons why RISC is better than CISC. One of the primary motivations was to
not devolve into micro-op madness.</p>
<p>CISC on the other hand, has a large set of instructions, and can do a lot in one instruction.
The <a href="https://citeseerx.ist.psu.edu/document?repid=rep1&type=pdf&doi=6e91e0c4c7935accb09d811f72ebd5521b585601" target="_blank">rebuttal to the RISC paper</a>
is also a good read.</p>
<p>As time has shown, RISC has won out and CISC seems to be on its way out with Intel losing the plot.
But the reason is not really the "simplicity".</p>
<p>The openness of RISC has led to a lot of competition and innovation of low-powered chips, where
x86 has largely been worked on by Intel and AMD. Power consumption optimization has not really
been the primary goal of x86 chips, but with the rise of mobile and laptop it became a necessity.</p>
<p>Apple's friction with Intel also led them to a RISC based low power chip.</p>
<p>However now, Intel is also able to make low power x86 chips. They figured it out, they were just slow.
Intel also decided to create <a href="https://www.reddit.com/r/buildapc/comments/1eg8wl0/intel_core_13th14th_gen_issue_megathread/" target="_blank">self destructing chips</a>, and managed to self destruct themselves.</p>
<p>So in the end, it was:</p>
<ol>
<li>The wrong objective function to optimize upon.</li>
<li>Lack of innovation/competition in the CISC space.</li>
</ol>
<h3 id="thefacade">The facade</h3>
<p>Based on the RISC paper, one of the primary reason was to avoid instruction conversion to micro-ops.</p>
<p>However, modern CPUs (be it ARM or x86) end up converting instructions to micro-ops anyway. It seems
to be common industry knowledge that you cannot have a one-size-fits-all reduced instruction set
that is performant.</p>
<p>How is <a href="https://stackoverflow.com/questions/78470412/fastest-way-to-do-horizontal-pairwise-rvv-vector-sum-addp-instruction-in-aarch6" target="_blank">this</a>
reduced in any way?</p>
<p>This is also expected, since the optimizations that the CPUs are able to perform are heavily
reliant on their silicon, which is constantly being updated to perform more (and weirder?) things faster.</p>
<p>ARM has something called VQRDMULH
Which does the following:</p>
<ol>
<li>Multiplies two vectors</li>
<li>Doubles the results</li>
<li>Rounds the results</li>
<li>Takes the high half</li>
<li>Saturates the values</li>
</ol>
<p>x86 has VPCLMULQDQ, which does polynomial multiplication over <a href="https://en.wikipedia.org/wiki/GF(2)" target="_blank">GF(2)</a>.
For AlderLake-P (which is P for power), this instruction is 1 micro-op!</p>
<p>RISC doesn't shy away from adding complexity, and CISC doesn't shy away from removing it through
simpler micro-ops.</p>
<p>RISC vs CISC today is more of a marketing gimmick, and based on conversations with hardware people,
not something they really care about.</p>
      </div>
      <div id="not-mobile" class="col">
      </div>
    </div>

    <!-- Bootstrap JS (optional) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- Theme Toggle Script -->
    <script>
      (function() {
        const THEME_KEY = 'theme-preference';
        const THEMES = ['light', 'dark'];
        const TITLES = { light: 'Light mode', dark: 'Dark mode' };

        function normalizeTheme(theme) {
          return THEMES.includes(theme) ? theme : 'light';
        }
        
        function applyTheme(theme) {
          const normalizedTheme = normalizeTheme(theme);
          document.documentElement.setAttribute('data-theme', normalizedTheme);
          
          // Update icon visibility
          document.querySelectorAll('.theme-icon').forEach(icon => icon.classList.remove('active'));
          const activeIcon = document.querySelector('.icon-' + (normalizedTheme === 'light' ? 'sun' : 'moon'));
          if (activeIcon) activeIcon.classList.add('active');
          
          // Update button title
          const btn = document.getElementById('theme-toggle');
          if (btn) btn.title = TITLES[normalizedTheme];
        }
        
        function cycleTheme() {
          const current = normalizeTheme(localStorage.getItem(THEME_KEY));
          const nextIndex = (THEMES.indexOf(current) + 1) % THEMES.length;
          const next = THEMES[nextIndex];
          localStorage.setItem(THEME_KEY, next);
          applyTheme(next);
        }
        
        // Initialize theme on page load
        const savedTheme = normalizeTheme(localStorage.getItem(THEME_KEY));
        localStorage.setItem(THEME_KEY, savedTheme);
        applyTheme(savedTheme);
        
        // Set up button click handler
        document.getElementById('theme-toggle').addEventListener('click', cycleTheme);
      })();
    </script>
  </body>
</html>
